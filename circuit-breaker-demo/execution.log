Feb 06, 2026 3:13:19 PM org.jline.utils.Log logr
WARNING: Unable to create a system terminal, creating a dumb terminal (enable debug logging for more information)
[main] WARNING org.jline - Unable to create a system terminal, creating a dumb terminal (enable debug logging for more information)
[INFO] Processing build on daemon 861de464
[INFO] Scanning for projects...
[INFO] BuildTimeEventSpy is registered.
[INFO] 
[INFO] Using the SmartBuilder implementation with a thread count of 15
[INFO] 
[INFO] -------------------< com.demo:circuit-breaker-demo >--------------------
[INFO] Building circuit-breaker-demo 0.0.1-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] >>> spring-boot:3.3.8:run (default-cli) > test-compile @ circuit-breaker-demo >>>
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ circuit-breaker-demo ---
[INFO] Copying 1 resource from src\main\resources to target\classes
[INFO] Copying 0 resource from src\main\resources to target\classes
[INFO] 
[INFO] --- compiler:3.13.0:compile (default-compile) @ circuit-breaker-demo ---
[INFO] Nothing to compile - all classes are up to date.
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ circuit-breaker-demo ---
[INFO] skip non existing resourceDirectory D:\docker_and_k8s\circuit-breaker-demo\src\test\resources
[INFO] 
[INFO] --- compiler:3.13.0:testCompile (default-testCompile) @ circuit-breaker-demo ---
[INFO] No sources to compile
[INFO] 
[INFO] <<< spring-boot:3.3.8:run (default-cli) < test-compile @ circuit-breaker-demo <<<
[INFO] 
[INFO] 
[INFO] --- spring-boot:3.3.8:run (default-cli) @ circuit-breaker-demo ---
[INFO] Attaching agents: []
[INFO] [stdout] 
[INFO] [stdout]   .   ____          _            __ _ _
[INFO] [stdout]  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
[INFO] [stdout] ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
[INFO] [stdout]  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
[INFO] [stdout]   '  |____| .__|_| |_|_| |_\__, | / / / /
[INFO] [stdout]  =========|_|==============|___/=/_/_/_/
[INFO] [stdout] 
[INFO] [stdout]  :: Spring Boot ::                (v3.3.8)
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:13:25.847+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] c.d.c.CircuitBreakerDemoApplication      : Starting CircuitBreakerDemoApplication using Java 21.0.8 with PID 27072 (D:\docker_and_k8s\circuit-breaker-demo\target\classes started by pilla in D:\docker_and_k8s\circuit-breaker-demo)
[INFO] [stdout] 2026-02-06T15:13:25.855+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] c.d.c.CircuitBreakerDemoApplication      : No active profile set, falling back to 1 default profile: "default"
[INFO] [stdout] 2026-02-06T15:13:25.985+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[INFO] [stdout] 2026-02-06T15:13:25.987+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[INFO] [stdout] 2026-02-06T15:13:27.809+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:13:27.811+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:13:27.827+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:13:27.827+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:13:27.869+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:13:27.870+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:13:27.890+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:13:27.892+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:13:27.905+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:13:27.909+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:13:27.931+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:13:27.932+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:13:27.952+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:13:27.952+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:13:28.353+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
[INFO] [stdout] 2026-02-06T15:13:28.359+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[INFO] [stdout] 2026-02-06T15:13:28.431+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 0 Redis repository interfaces.
[INFO] [stdout] 2026-02-06T15:13:31.174+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
[INFO] [stdout] 2026-02-06T15:13:31.194+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
[INFO] [stdout] 2026-02-06T15:13:31.194+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
[INFO] [stdout] 2026-02-06T15:13:31.264+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
[INFO] [stdout] 2026-02-06T15:13:31.265+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5277 ms
[INFO] [stdout] 2026-02-06T15:13:35.827+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.d.r.l.RedisMessageListenerContainer  : Starting RedisMessageListenerContainer...
[INFO] [stdout] 2026-02-06T15:13:35.828+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.d.r.l.RedisMessageListenerContainer  : Postpone listening for Redis messages until actual listeners are added
[INFO] [stdout] 2026-02-06T15:13:36.103+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[INFO] [stdout] 2026-02-06T15:13:36.181+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
[INFO] [stdout] 2026-02-06T15:13:36.406+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
[INFO] [stdout] 2026-02-06T15:13:36.439+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] c.d.c.CircuitBreakerDemoApplication      : Started CircuitBreakerDemoApplication in 11.586 seconds (process running for 12.559)
[INFO] [stdout] 2026-02-06T15:15:56.599+05:30  INFO 27072 --- [circuit-breaker-demo] [   File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 16 class path changes (0 additions, 15 deletions, 1 modification)
[INFO] [stdout] 2026-02-06T15:15:56.663+05:30 DEBUG 27072 --- [circuit-breaker-demo] [       Thread-5] o.s.d.r.l.RedisMessageListenerContainer  : Stopped RedisMessageListenerContainer
[INFO] [stdout] 
[INFO] [stdout]   .   ____          _            __ _ _
[INFO] [stdout]  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
[INFO] [stdout] ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
[INFO] [stdout]  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
[INFO] [stdout]   '  |____| .__|_| |_|_| |_\__, | / / / /
[INFO] [stdout]  =========|_|==============|___/=/_/_/_/
[INFO] [stdout] 
[INFO] [stdout]  :: Spring Boot ::                (v3.3.8)
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:15:56.943+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] c.d.c.CircuitBreakerDemoApplication      : Starting CircuitBreakerDemoApplication using Java 21.0.8 with PID 27072 (D:\docker_and_k8s\circuit-breaker-demo\target\classes started by pilla in D:\docker_and_k8s\circuit-breaker-demo)
[INFO] [stdout] 2026-02-06T15:15:56.943+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] c.d.c.CircuitBreakerDemoApplication      : No active profile set, falling back to 1 default profile: "default"
[INFO] [stdout] 2026-02-06T15:15:57.760+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:15:57.762+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:15:57.776+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:15:57.778+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:15:57.813+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:15:57.816+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:15:57.838+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:15:57.838+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:15:57.852+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:15:57.853+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:15:57.873+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:15:57.874+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:15:57.891+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:15:57.892+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:15:58.200+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
[INFO] [stdout] 2026-02-06T15:15:58.201+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[INFO] [stdout] 2026-02-06T15:15:58.206+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
[INFO] [stdout] 2026-02-06T15:15:59.158+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
[INFO] [stdout] 2026-02-06T15:15:59.160+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
[INFO] [stdout] 2026-02-06T15:15:59.161+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
[INFO] [stdout] 2026-02-06T15:15:59.229+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
[INFO] [stdout] 2026-02-06T15:15:59.230+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2279 ms
[INFO] [stdout] 2026-02-06T15:16:05.180+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.d.r.l.RedisMessageListenerContainer  : Starting RedisMessageListenerContainer...
[INFO] [stdout] 2026-02-06T15:16:05.180+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.d.r.l.RedisMessageListenerContainer  : Postpone listening for Redis messages until actual listeners are added
[INFO] [stdout] 2026-02-06T15:16:05.311+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[INFO] [stdout] 2026-02-06T15:16:05.333+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
[INFO] [stdout] 2026-02-06T15:16:05.387+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
[INFO] [stdout] 2026-02-06T15:16:05.401+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] c.d.c.CircuitBreakerDemoApplication      : Started CircuitBreakerDemoApplication in 8.568 seconds (process running for 161.521)
[INFO] [stdout] 2026-02-06T15:16:05.411+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation delta:
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] ==========================
[INFO] [stdout] CONDITION EVALUATION DELTA
[INFO] [stdout] ==========================
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Positive matches:
[INFO] [stdout] -----------------
[INFO] [stdout] 
[INFO] [stdout]    RedisAutoConfiguration#redisTemplate matched:
[INFO] [stdout]       - @ConditionalOnSingleCandidate (types: org.springframework.data.redis.connection.RedisConnectionFactory; SearchStrategy: all) found a single bean 'redisConnectionFactory'; @ConditionalOnMissingBean (names: redisTemplate; SearchStrategy: all) did not find any beans (OnBeanCondition)
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Negative matches:
[INFO] [stdout] -----------------
[INFO] [stdout] 
[INFO] [stdout]     None
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Exclusions:
[INFO] [stdout] -----------
[INFO] [stdout] 
[INFO] [stdout]     None
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Unconditional classes:
[INFO] [stdout] ----------------------
[INFO] [stdout] 
[INFO] [stdout]     None
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:16:06.735+05:30  INFO 27072 --- [circuit-breaker-demo] [   File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 15 class path changes (15 additions, 0 deletions, 0 modifications)
[INFO] [stdout] 2026-02-06T15:16:06.751+05:30 DEBUG 27072 --- [circuit-breaker-demo] [       Thread-7] o.s.d.r.l.RedisMessageListenerContainer  : Stopped RedisMessageListenerContainer
[INFO] [stdout] 
[INFO] [stdout]   .   ____          _            __ _ _
[INFO] [stdout]  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
[INFO] [stdout] ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
[INFO] [stdout]  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
[INFO] [stdout]   '  |____| .__|_| |_|_| |_\__, | / / / /
[INFO] [stdout]  =========|_|==============|___/=/_/_/_/
[INFO] [stdout] 
[INFO] [stdout]  :: Spring Boot ::                (v3.3.8)
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:16:06.911+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] c.d.c.CircuitBreakerDemoApplication      : Starting CircuitBreakerDemoApplication using Java 21.0.8 with PID 27072 (D:\docker_and_k8s\circuit-breaker-demo\target\classes started by pilla in D:\docker_and_k8s\circuit-breaker-demo)
[INFO] [stdout] 2026-02-06T15:16:06.911+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] c.d.c.CircuitBreakerDemoApplication      : No active profile set, falling back to 1 default profile: "default"
[INFO] [stdout] 2026-02-06T15:16:07.348+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:16:07.349+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:16:07.354+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:16:07.354+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:16:07.373+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:16:07.374+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:16:07.383+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:16:07.384+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:16:07.389+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:16:07.389+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:16:07.399+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:16:07.399+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:16:07.407+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:16:07.408+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:16:07.517+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
[INFO] [stdout] 2026-02-06T15:16:07.519+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[INFO] [stdout] 2026-02-06T15:16:07.521+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
[INFO] [stdout] 2026-02-06T15:16:07.907+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
[INFO] [stdout] 2026-02-06T15:16:07.908+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
[INFO] [stdout] 2026-02-06T15:16:07.908+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
[INFO] [stdout] 2026-02-06T15:16:07.936+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
[INFO] [stdout] 2026-02-06T15:16:07.937+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1021 ms
[INFO] [stdout] 2026-02-06T15:16:11.375+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.d.r.l.RedisMessageListenerContainer  : Starting RedisMessageListenerContainer...
[INFO] [stdout] 2026-02-06T15:16:11.376+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.d.r.l.RedisMessageListenerContainer  : Postpone listening for Redis messages until actual listeners are added
[INFO] [stdout] 2026-02-06T15:16:11.595+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[INFO] [stdout] 2026-02-06T15:16:11.644+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
[INFO] [stdout] 2026-02-06T15:16:11.764+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
[INFO] [stdout] 2026-02-06T15:16:11.786+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] c.d.c.CircuitBreakerDemoApplication      : Started CircuitBreakerDemoApplication in 4.924 seconds (process running for 167.906)
[INFO] [stdout] 2026-02-06T15:16:11.794+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation delta:
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] ==========================
[INFO] [stdout] CONDITION EVALUATION DELTA
[INFO] [stdout] ==========================
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Positive matches:
[INFO] [stdout] -----------------
[INFO] [stdout] 
[INFO] [stdout]     None
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Negative matches:
[INFO] [stdout] -----------------
[INFO] [stdout] 
[INFO] [stdout]    RedisAutoConfiguration#redisTemplate:
[INFO] [stdout]       Did not match:
[INFO] [stdout]          - @ConditionalOnMissingBean (names: redisTemplate; SearchStrategy: all) found beans named redisTemplate (OnBeanCondition)
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Exclusions:
[INFO] [stdout] -----------
[INFO] [stdout] 
[INFO] [stdout]     None
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Unconditional classes:
[INFO] [stdout] ----------------------
[INFO] [stdout] 
[INFO] [stdout]     None
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:17:38.834+05:30  INFO 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
[INFO] [stdout] 2026-02-06T15:17:38.835+05:30  INFO 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
[INFO] [stdout] 2026-02-06T15:17:38.838+05:30  INFO 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
[INFO] [stdout] 2026-02-06T15:17:38.943+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.data.redis.serializer.SerializationException: Could not write JSON: Java 8 date/time type `java.time.Instant` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: com.demo.circuitbreaker.model.Product["lastUpdated"])] with root cause
[INFO] [stdout] 
[INFO] [stdout] com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.Instant` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: com.demo.circuitbreaker.model.Product["lastUpdated"])
[INFO] [stdout] 	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.17.3.jar:2.17.3]
[INFO] [stdout] 	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1330) ~[jackson-databind-2.17.3.jar:2.17.3]
[INFO] [stdout] 	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35) ~[jackson-databind-2.17.3.jar:2.17.3]
[INFO] [stdout] 	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.17.3.jar:2.17.3]
[INFO] [stdout] 	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.17.3.jar:2.17.3]
[INFO] [stdout] 	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeWithType(BeanSerializerBase.java:653) ~[jackson-databind-2.17.3.jar:2.17.3]
[INFO] [stdout] 	at com.fasterxml.jackson.databind.ser.impl.TypeWrappedSerializer.serialize(TypeWrappedSerializer.java:32) ~[jackson-databind-2.17.3.jar:2.17.3]
[INFO] [stdout] 	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502) ~[jackson-databind-2.17.3.jar:2.17.3]
[INFO] [stdout] 	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:341) ~[jackson-databind-2.17.3.jar:2.17.3]
[INFO] [stdout] 	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4799) ~[jackson-databind-2.17.3.jar:2.17.3]
[INFO] [stdout] 	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsBytes(ObjectMapper.java:4065) ~[jackson-databind-2.17.3.jar:2.17.3]
[INFO] [stdout] 	at org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer.serialize(GenericJackson2JsonRedisSerializer.java:267) ~[spring-data-redis-3.3.8.jar:3.3.8]
[INFO] [stdout] 	at org.springframework.data.redis.core.AbstractOperations.rawValue(AbstractOperations.java:128) ~[spring-data-redis-3.3.8.jar:3.3.8]
[INFO] [stdout] 	at org.springframework.data.redis.core.DefaultValueOperations.set(DefaultValueOperations.java:251) ~[spring-data-redis-3.3.8.jar:3.3.8]
[INFO] [stdout] 	at org.springframework.data.redis.core.ValueOperations.set(ValueOperations.java:75) ~[spring-data-redis-3.3.8.jar:3.3.8]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.saveProduct(RedisCacheService.java:18) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.controller.ProductController.seedCache(ProductController.java:61) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:18:09.550+05:30  INFO 27072 --- [circuit-breaker-demo] [   File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 15 class path changes (0 additions, 15 deletions, 0 modifications)
[INFO] [stdout] 2026-02-06T15:18:09.579+05:30 DEBUG 27072 --- [circuit-breaker-demo] [      Thread-11] o.s.d.r.l.RedisMessageListenerContainer  : Stopped RedisMessageListenerContainer
[INFO] [stdout] 
[INFO] [stdout]   .   ____          _            __ _ _
[INFO] [stdout]  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
[INFO] [stdout] ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
[INFO] [stdout]  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
[INFO] [stdout]   '  |____| .__|_| |_|_| |_\__, | / / / /
[INFO] [stdout]  =========|_|==============|___/=/_/_/_/
[INFO] [stdout] 
[INFO] [stdout]  :: Spring Boot ::                (v3.3.8)
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:18:09.742+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] c.d.c.CircuitBreakerDemoApplication      : Starting CircuitBreakerDemoApplication using Java 21.0.8 with PID 27072 (D:\docker_and_k8s\circuit-breaker-demo\target\classes started by pilla in D:\docker_and_k8s\circuit-breaker-demo)
[INFO] [stdout] 2026-02-06T15:18:09.743+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] c.d.c.CircuitBreakerDemoApplication      : No active profile set, falling back to 1 default profile: "default"
[INFO] [stdout] 2026-02-06T15:18:10.009+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:10.009+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:10.011+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:10.011+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:10.024+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:10.025+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:10.032+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:10.033+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:10.037+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:10.037+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:10.042+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:10.042+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:10.048+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:10.049+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:10.196+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
[INFO] [stdout] 2026-02-06T15:18:10.196+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[INFO] [stdout] 2026-02-06T15:18:10.200+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
[INFO] [stdout] 2026-02-06T15:18:10.521+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
[INFO] [stdout] 2026-02-06T15:18:10.522+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
[INFO] [stdout] 2026-02-06T15:18:10.522+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
[INFO] [stdout] 2026-02-06T15:18:10.542+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
[INFO] [stdout] 2026-02-06T15:18:10.543+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 797 ms
[INFO] [stdout] 2026-02-06T15:18:13.215+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.d.r.l.RedisMessageListenerContainer  : Starting RedisMessageListenerContainer...
[INFO] [stdout] 2026-02-06T15:18:13.215+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.d.r.l.RedisMessageListenerContainer  : Postpone listening for Redis messages until actual listeners are added
[INFO] [stdout] 2026-02-06T15:18:13.333+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[INFO] [stdout] 2026-02-06T15:18:13.353+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
[INFO] [stdout] 2026-02-06T15:18:13.407+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
[INFO] [stdout] 2026-02-06T15:18:13.417+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] c.d.c.CircuitBreakerDemoApplication      : Started CircuitBreakerDemoApplication in 3.728 seconds (process running for 289.537)
[INFO] [stdout] 2026-02-06T15:18:13.419+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation delta:
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] ==========================
[INFO] [stdout] CONDITION EVALUATION DELTA
[INFO] [stdout] ==========================
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Positive matches:
[INFO] [stdout] -----------------
[INFO] [stdout] 
[INFO] [stdout]    RedisAutoConfiguration#redisTemplate matched:
[INFO] [stdout]       - @ConditionalOnSingleCandidate (types: org.springframework.data.redis.connection.RedisConnectionFactory; SearchStrategy: all) found a single bean 'redisConnectionFactory'; @ConditionalOnMissingBean (names: redisTemplate; SearchStrategy: all) did not find any beans (OnBeanCondition)
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Negative matches:
[INFO] [stdout] -----------------
[INFO] [stdout] 
[INFO] [stdout]     None
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Exclusions:
[INFO] [stdout] -----------
[INFO] [stdout] 
[INFO] [stdout]     None
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Unconditional classes:
[INFO] [stdout] ----------------------
[INFO] [stdout] 
[INFO] [stdout]     None
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:18:41.306+05:30  INFO 27072 --- [circuit-breaker-demo] [   File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 15 class path changes (15 additions, 0 deletions, 0 modifications)
[INFO] [stdout] 2026-02-06T15:18:41.340+05:30 DEBUG 27072 --- [circuit-breaker-demo] [      Thread-15] o.s.d.r.l.RedisMessageListenerContainer  : Stopped RedisMessageListenerContainer
[INFO] [stdout] 
[INFO] [stdout]   .   ____          _            __ _ _
[INFO] [stdout]  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
[INFO] [stdout] ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
[INFO] [stdout]  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
[INFO] [stdout]   '  |____| .__|_| |_|_| |_\__, | / / / /
[INFO] [stdout]  =========|_|==============|___/=/_/_/_/
[INFO] [stdout] 
[INFO] [stdout]  :: Spring Boot ::                (v3.3.8)
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:18:41.522+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] c.d.c.CircuitBreakerDemoApplication      : Starting CircuitBreakerDemoApplication using Java 21.0.8 with PID 27072 (D:\docker_and_k8s\circuit-breaker-demo\target\classes started by pilla in D:\docker_and_k8s\circuit-breaker-demo)
[INFO] [stdout] 2026-02-06T15:18:41.523+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] c.d.c.CircuitBreakerDemoApplication      : No active profile set, falling back to 1 default profile: "default"
[INFO] [stdout] 2026-02-06T15:18:41.905+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:41.906+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:41.907+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:41.909+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:41.922+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:41.922+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:41.929+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:41.930+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:41.934+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:41.934+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:41.942+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:41.942+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:41.948+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:41.949+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:18:42.036+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
[INFO] [stdout] 2026-02-06T15:18:42.036+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[INFO] [stdout] 2026-02-06T15:18:42.040+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
[INFO] [stdout] 2026-02-06T15:18:42.502+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
[INFO] [stdout] 2026-02-06T15:18:42.503+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
[INFO] [stdout] 2026-02-06T15:18:42.503+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
[INFO] [stdout] 2026-02-06T15:18:42.523+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
[INFO] [stdout] 2026-02-06T15:18:42.523+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 996 ms
[INFO] [stdout] 2026-02-06T15:18:45.301+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.d.r.l.RedisMessageListenerContainer  : Starting RedisMessageListenerContainer...
[INFO] [stdout] 2026-02-06T15:18:45.301+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.d.r.l.RedisMessageListenerContainer  : Postpone listening for Redis messages until actual listeners are added
[INFO] [stdout] 2026-02-06T15:18:45.416+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[INFO] [stdout] 2026-02-06T15:18:45.439+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
[INFO] [stdout] 2026-02-06T15:18:45.502+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
[INFO] [stdout] 2026-02-06T15:18:45.516+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] c.d.c.CircuitBreakerDemoApplication      : Started CircuitBreakerDemoApplication in 4.047 seconds (process running for 321.635)
[INFO] [stdout] 2026-02-06T15:18:45.518+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation delta:
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] ==========================
[INFO] [stdout] CONDITION EVALUATION DELTA
[INFO] [stdout] ==========================
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Positive matches:
[INFO] [stdout] -----------------
[INFO] [stdout] 
[INFO] [stdout]     None
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Negative matches:
[INFO] [stdout] -----------------
[INFO] [stdout] 
[INFO] [stdout]    RedisAutoConfiguration#redisTemplate:
[INFO] [stdout]       Did not match:
[INFO] [stdout]          - @ConditionalOnMissingBean (names: redisTemplate; SearchStrategy: all) found beans named redisTemplate (OnBeanCondition)
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Exclusions:
[INFO] [stdout] -----------
[INFO] [stdout] 
[INFO] [stdout]     None
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Unconditional classes:
[INFO] [stdout] ----------------------
[INFO] [stdout] 
[INFO] [stdout]     None
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:18:49.286+05:30  INFO 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
[INFO] [stdout] 2026-02-06T15:18:49.286+05:30  INFO 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
[INFO] [stdout] 2026-02-06T15:18:49.289+05:30  INFO 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
[INFO] [stdout] 2026-02-06T15:18:49.309+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:18:49.873+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:18:49.874+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:18:49.878+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:18:49.879+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:18:49.884+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:18:49.884+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:18:49.889+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:18:49.889+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:18:49.893+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:18:58.419+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:18:58.422+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:18:58.426+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:18:58.746+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:18:58.750+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:18:58.752+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:18:58.752059100+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:18:58.752+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:18:58.753+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:18:58.752646500+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 326 ms
[INFO] [stdout] 2026-02-06T15:18:59.796+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:18:59.796+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:18:59.796+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:00.013+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:00.030+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:00.030+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:19:00.030504200+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:19:00.030+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:19:00.031+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:19:00.031037400+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 234 ms
[INFO] [stdout] 2026-02-06T15:19:01.040+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:01.040+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:01.040+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:01.253+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:01.268+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:01.269+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:19:01.269108300+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:19:01.269+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:19:01.269+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:19:01.269108300+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 228 ms
[INFO] [stdout] 2026-02-06T15:19:02.288+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:02.288+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:02.288+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:02.502+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:02.519+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:02.519+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:19:02.519241800+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:19:02.519+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:19:02.519+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:19:02.519241800+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 230 ms
[INFO] [stdout] 2026-02-06T15:19:03.533+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:03.533+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:03.534+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:03.748+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:03.765+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:03.765+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:19:03.765569600+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:19:03.765+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:19:03.765+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:19:03.765569600+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 231 ms
[INFO] [stdout] 2026-02-06T15:19:04.771+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:04.771+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:04.771+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:04.990+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:05.008+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:05.009+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:19:05.009497600+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:19:05.010+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:19:05.010+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:19:05.010135500+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 237 ms
[INFO] [stdout] 2026-02-06T15:19:06.030+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:06.030+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:06.031+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:06.247+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:06.255+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:06.255+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:19:06.255413300+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:19:06.255+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:19:06.256+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:19:06.256584700+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 224 ms
[INFO] [stdout] 2026-02-06T15:19:07.283+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:07.284+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:07.285+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:07.497+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:07.505+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:07.506+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:19:07.506545200+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:19:07.507+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:19:07.507+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:19:07.507128500+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 221 ms
[INFO] [stdout] 2026-02-06T15:19:08.522+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:08.522+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:08.523+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:08.738+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:08.743+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:08.743+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:19:08.743598400+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:19:08.743+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:19:08.743+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:19:08.743598400+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 220 ms
[INFO] [stdout] 2026-02-06T15:19:09.763+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:09.763+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:09.764+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:09.982+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:09.999+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:09.999+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:19:09.999326200+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:19:09.999+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:19:09.999+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:19:09.999896900+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 235 ms
[INFO] [stdout] 2026-02-06T15:19:19.036+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:19.037+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:19.037+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:19.041+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Simulated downstream failure] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.IllegalStateException: Simulated downstream failure
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:19.069+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.t.internal.TimeLimiterImpl         : Event ERROR published: 2026-02-06T15:19:19.069613100+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:49:19.045+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'
[INFO] [stdout] 2026-02-06T15:19:19.069+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:49:19.045+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"
[INFO] [stdout] 	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:102) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:404) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.lambda$getProductById$0(ProductService.java:35) ~[classes/:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:19.071+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:19:19.071142100+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:49:19.045+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'. Elapsed time: 32 ms
[INFO] [stdout] 2026-02-06T15:19:19.073+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:19.087+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:19.299+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-1] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:19.300+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-1] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:19.305+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Simulated downstream failure] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.IllegalStateException: Simulated downstream failure
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:19.311+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.t.internal.TimeLimiterImpl         : Event ERROR published: 2026-02-06T15:19:19.311378100+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:49:19.306+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'
[INFO] [stdout] 2026-02-06T15:19:19.312+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:49:19.306+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"
[INFO] [stdout] 	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:102) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:404) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.lambda$getProductById$0(ProductService.java:35) ~[classes/:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:19.312+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:19:19.312380800+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:49:19.306+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'. Elapsed time: 11 ms
[INFO] [stdout] 2026-02-06T15:19:19.313+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:19.317+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:19.322+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:46) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2194) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCompletionStage$1(CircuitBreaker.java:114) ~[resilience4j-circuitbreaker-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1773) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:20.369+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:20.369+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:20.369+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:20.374+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Simulated downstream failure] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.IllegalStateException: Simulated downstream failure
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:20.378+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.t.internal.TimeLimiterImpl         : Event ERROR published: 2026-02-06T15:19:20.378880+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:49:20.376+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'
[INFO] [stdout] 2026-02-06T15:19:20.378+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:49:20.376+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"
[INFO] [stdout] 	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:102) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:404) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.lambda$getProductById$0(ProductService.java:35) ~[classes/:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:20.379+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:19:20.379461200+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:49:20.376+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'. Elapsed time: 9 ms
[INFO] [stdout] 2026-02-06T15:19:20.379+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:20.384+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:20.597+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-1] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:20.598+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-1] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:20.602+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Simulated downstream failure] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.IllegalStateException: Simulated downstream failure
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:20.606+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.t.internal.TimeLimiterImpl         : Event ERROR published: 2026-02-06T15:19:20.606769700+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:49:20.604+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'
[INFO] [stdout] 2026-02-06T15:19:20.607+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:49:20.604+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"
[INFO] [stdout] 	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:102) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:404) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.lambda$getProductById$0(ProductService.java:35) ~[classes/:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:20.607+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:19:20.607785100+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:49:20.604+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'. Elapsed time: 9 ms
[INFO] [stdout] 2026-02-06T15:19:20.607+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:20.611+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:20.613+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:46) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2194) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCompletionStage$1(CircuitBreaker.java:114) ~[resilience4j-circuitbreaker-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1773) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:21.622+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:21.622+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:21.622+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:21.626+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Simulated downstream failure] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.IllegalStateException: Simulated downstream failure
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:21.631+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.t.internal.TimeLimiterImpl         : Event ERROR published: 2026-02-06T15:19:21.631572900+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:49:21.627+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'
[INFO] [stdout] 2026-02-06T15:19:21.632+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:49:21.627+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"
[INFO] [stdout] 	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:102) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:404) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.lambda$getProductById$0(ProductService.java:35) ~[classes/:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:21.632+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:19:21.632600200+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:49:21.627+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'. Elapsed time: 9 ms
[INFO] [stdout] 2026-02-06T15:19:21.633+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event FAILURE_RATE_EXCEEDED published: 2026-02-06T15:19:21.633210600+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' exceeded failure rate threshold. Current failure rate: 50.0
[INFO] [stdout] 2026-02-06T15:19:21.638+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event STATE_TRANSITION published: 2026-02-06T15:19:21.637977400+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' changed state from CLOSED to OPEN
[INFO] [stdout] 2026-02-06T15:19:21.638+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:21.642+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:21.851+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-2] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:21.851+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:19:21.851785200+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:19:21.852+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:21.855+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:21.856+05:30 ERROR 27072 --- [circuit-breaker-demo] [io-8080-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:48) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2357) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:144) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$1(CompletionStageFallbackDecorator.java:43) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.core.functions.CheckedSupplier.lambda$andThen$0(CheckedSupplier.java:34) ~[resilience4j-core-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$handleJoinPointCompletableFuture$1(RetryAspect.java:188) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.retry.Retry$AsyncRetryBlock.run(Retry.java:551) ~[resilience4j-retry-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:22.877+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:22.878+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:22.879+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:19:22.879531+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:19:22.879+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:22.885+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:23.091+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-1] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:23.091+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:19:23.091902900+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:19:23.092+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:23.097+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:23.099+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:48) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2357) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:144) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$1(CompletionStageFallbackDecorator.java:43) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.core.functions.CheckedSupplier.lambda$andThen$0(CheckedSupplier.java:34) ~[resilience4j-core-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$handleJoinPointCompletableFuture$1(RetryAspect.java:188) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.retry.Retry$AsyncRetryBlock.run(Retry.java:551) ~[resilience4j-retry-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:24.118+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:24.119+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:24.119+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:19:24.119991500+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:19:24.120+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:24.126+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:24.329+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-3] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:24.329+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-3] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:19:24.329865900+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:19:24.330+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-3] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:24.335+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-3] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:24.337+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:48) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2357) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:144) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$1(CompletionStageFallbackDecorator.java:43) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.core.functions.CheckedSupplier.lambda$andThen$0(CheckedSupplier.java:34) ~[resilience4j-core-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$handleJoinPointCompletableFuture$1(RetryAspect.java:188) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.retry.Retry$AsyncRetryBlock.run(Retry.java:551) ~[resilience4j-retry-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:25.363+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:25.363+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:25.363+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:19:25.363477400+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:19:25.363+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:25.366+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:25.575+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-2] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:25.575+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:19:25.575964800+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:19:25.575+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:25.580+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:25.582+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:48) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2357) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:144) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$1(CompletionStageFallbackDecorator.java:43) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.core.functions.CheckedSupplier.lambda$andThen$0(CheckedSupplier.java:34) ~[resilience4j-core-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$handleJoinPointCompletableFuture$1(RetryAspect.java:188) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.retry.Retry$AsyncRetryBlock.run(Retry.java:551) ~[resilience4j-retry-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:26.612+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:26.612+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:26.613+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:19:26.613404700+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:19:26.613+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:26.620+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:26.823+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-4] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:26.824+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-4] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:19:26.824196100+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:19:26.824+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:26.831+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:26.833+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:48) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2357) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:144) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$1(CompletionStageFallbackDecorator.java:43) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.core.functions.CheckedSupplier.lambda$andThen$0(CheckedSupplier.java:34) ~[resilience4j-core-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$handleJoinPointCompletableFuture$1(RetryAspect.java:188) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.retry.Retry$AsyncRetryBlock.run(Retry.java:551) ~[resilience4j-retry-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:27.846+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:27.847+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:27.848+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:19:27.848123600+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:19:27.848+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:27.855+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:28.071+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-1] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:28.072+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:19:28.072029200+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:19:28.073+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:28.078+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:28.080+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:48) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2357) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:144) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$1(CompletionStageFallbackDecorator.java:43) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.core.functions.CheckedSupplier.lambda$andThen$0(CheckedSupplier.java:34) ~[resilience4j-core-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$handleJoinPointCompletableFuture$1(RetryAspect.java:188) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.retry.Retry$AsyncRetryBlock.run(Retry.java:551) ~[resilience4j-retry-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:29.109+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:29.110+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:29.110+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:19:29.110049800+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:19:29.110+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:29.113+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:29.325+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-5] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:29.326+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-5] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:19:29.326286900+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:19:29.326+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-5] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:29.329+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-5] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:29.330+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:48) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2357) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:144) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$1(CompletionStageFallbackDecorator.java:43) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.core.functions.CheckedSupplier.lambda$andThen$0(CheckedSupplier.java:34) ~[resilience4j-core-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$handleJoinPointCompletableFuture$1(RetryAspect.java:188) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.retry.Retry$AsyncRetryBlock.run(Retry.java:551) ~[resilience4j-retry-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:30.350+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:30.350+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:30.350+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:19:30.350149500+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:19:30.350+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:30.353+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:30.564+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-3] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:30.564+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-3] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:19:30.564917400+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:19:30.564+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-3] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:30.567+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-3] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:30.569+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:48) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2357) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:144) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$1(CompletionStageFallbackDecorator.java:43) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.core.functions.CheckedSupplier.lambda$andThen$0(CheckedSupplier.java:34) ~[resilience4j-core-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$handleJoinPointCompletableFuture$1(RetryAspect.java:188) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.retry.Retry$AsyncRetryBlock.run(Retry.java:551) ~[resilience4j-retry-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:31.579+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:31.579+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:31.579+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:19:31.579225500+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:19:31.580+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:31.583+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:31.640+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ransitionThread] i.g.r.c.i.CircuitBreakerStateMachine     : Event STATE_TRANSITION published: 2026-02-06T15:19:31.639271200+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' changed state from OPEN to HALF_OPEN
[INFO] [stdout] 2026-02-06T15:19:31.793+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-6] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:31.798+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-6] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] java.lang.IllegalStateException: Required to bind 2 arguments, but only bound 1 (JoinPointMatch was NOT bound in invocation)
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.argBinding(AbstractAspectJAdvice.java:601) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.lambda$handleJoinPointCompletableFuture$1(CircuitBreakerAspect.java:167) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCompletionStage$2(CircuitBreaker.java:107) ~[resilience4j-circuitbreaker-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCompletionStage(CircuitBreaker.java:715) ~[resilience4j-circuitbreaker-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.handleJoinPointCompletableFuture(CircuitBreakerAspect.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.proceed(CircuitBreakerAspect.java:124) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.lambda$circuitBreakerAroundAdvice$0(CircuitBreakerAspect.java:108) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.core.functions.CheckedSupplier.lambda$andThen$0(CheckedSupplier.java:34) ~[resilience4j-core-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$handleJoinPointCompletableFuture$1(RetryAspect.java:188) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.retry.Retry$AsyncRetryBlock.run(Retry.java:551) ~[resilience4j-retry-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:31.798+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-6] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:19:31.798959100+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'java.lang.IllegalStateException: Required to bind 2 arguments, but only bound 1 (JoinPointMatch was NOT bound in invocation)'. Elapsed time: 3 ms
[INFO] [stdout] 2026-02-06T15:19:31.798+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-6] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:31.802+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-6] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:31.803+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:46) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2357) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:144) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$1(CompletionStageFallbackDecorator.java:43) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.core.functions.CheckedSupplier.lambda$andThen$0(CheckedSupplier.java:34) ~[resilience4j-core-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$handleJoinPointCompletableFuture$1(RetryAspect.java:188) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.retry.Retry$AsyncRetryBlock.run(Retry.java:551) ~[resilience4j-retry-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:32.817+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:32.818+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:32.819+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:32.822+05:30 ERROR 27072 --- [circuit-breaker-demo] [io-8080-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Simulated downstream failure] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.IllegalStateException: Simulated downstream failure
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:32.827+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.t.internal.TimeLimiterImpl         : Event ERROR published: 2026-02-06T15:19:32.827749700+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:49:32.823+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'
[INFO] [stdout] 2026-02-06T15:19:32.827+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:49:32.823+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"
[INFO] [stdout] 	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:102) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:404) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.lambda$getProductById$0(ProductService.java:35) ~[classes/:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:32.828+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:19:32.828273400+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:49:32.823+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'. Elapsed time: 8 ms
[INFO] [stdout] 2026-02-06T15:19:32.828+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:32.830+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:33.034+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-2] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:33.034+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-2] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:33.038+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Simulated downstream failure] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.IllegalStateException: Simulated downstream failure
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:33.044+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.t.internal.TimeLimiterImpl         : Event ERROR published: 2026-02-06T15:19:33.044473400+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:49:33.040+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'
[INFO] [stdout] 2026-02-06T15:19:33.044+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:49:33.040+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"
[INFO] [stdout] 	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:102) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:404) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.lambda$getProductById$0(ProductService.java:35) ~[classes/:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:33.044+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:19:33.044987200+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:49:33.040+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'. Elapsed time: 9 ms
[INFO] [stdout] 2026-02-06T15:19:33.045+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event STATE_TRANSITION published: 2026-02-06T15:19:33.045525400+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' changed state from HALF_OPEN to OPEN
[INFO] [stdout] 2026-02-06T15:19:33.046+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:33.050+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:33.051+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:46) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2194) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCompletionStage$1(CircuitBreaker.java:114) ~[resilience4j-circuitbreaker-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1773) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:34.080+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:34.081+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:34.081+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:19:34.081508800+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:19:34.082+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:34.087+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:34.303+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-7] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:34.303+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-7] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:19:34.303788400+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:19:34.303+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-7] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:34.310+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-7] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:34.313+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:48) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2357) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:144) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$1(CompletionStageFallbackDecorator.java:43) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.core.functions.CheckedSupplier.lambda$andThen$0(CheckedSupplier.java:34) ~[resilience4j-core-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$handleJoinPointCompletableFuture$1(RetryAspect.java:188) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.retry.Retry$AsyncRetryBlock.run(Retry.java:551) ~[resilience4j-retry-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:35.335+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:35.335+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:35.335+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:19:35.335344+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:19:35.336+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:35.340+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:35.547+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-4] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:35.548+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-4] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:19:35.548236600+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:19:35.548+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:35.552+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:35.554+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:48) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2357) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:144) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$1(CompletionStageFallbackDecorator.java:43) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.core.functions.CheckedSupplier.lambda$andThen$0(CheckedSupplier.java:34) ~[resilience4j-core-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$handleJoinPointCompletableFuture$1(RetryAspect.java:188) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.retry.Retry$AsyncRetryBlock.run(Retry.java:551) ~[resilience4j-retry-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:36.575+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:36.575+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:36.577+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:19:36.577103100+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:19:36.577+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:36.580+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:36.788+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-8] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:19:36.788+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-8] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:19:36.788599500+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:19:36.789+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-8] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:19:36.792+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-8] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:19:36.793+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:48) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2357) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:144) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$1(CompletionStageFallbackDecorator.java:43) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.core.functions.CheckedSupplier.lambda$andThen$0(CheckedSupplier.java:34) ~[resilience4j-core-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$handleJoinPointCompletableFuture$1(RetryAspect.java:188) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.retry.Retry$AsyncRetryBlock.run(Retry.java:551) ~[resilience4j-retry-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:19:43.061+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ransitionThread] i.g.r.c.i.CircuitBreakerStateMachine     : Event STATE_TRANSITION published: 2026-02-06T15:19:43.061120+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' changed state from OPEN to HALF_OPEN
[INFO] [stdout] 2026-02-06T15:20:00.844+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:00.844+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:00.844+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:03.852+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-12-thread-4] i.g.r.t.internal.TimeLimiterImpl         : Event TIMEOUT published: 2026-02-06T15:20:03.852108500+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a timeout exception.
[INFO] [stdout] 2026-02-06T15:20:03.852+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-12-thread-4] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] java.util.concurrent.TimeoutException: TimeLimiter 'externalService' recorded a timeout exception.
[INFO] [stdout] 	at io.github.resilience4j.timelimiter.TimeLimiter.createdTimeoutExceptionWithName(TimeLimiter.java:225) ~[resilience4j-timelimiter-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.timelimiter.internal.TimeLimiterImpl$Timeout.lambda$of$0(TimeLimiterImpl.java:185) ~[resilience4j-timelimiter-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:20:03.852+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-12-thread-4] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:20:03.852746+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'java.util.concurrent.TimeoutException: TimeLimiter 'externalService' recorded a timeout exception.'. Elapsed time: 3006 ms
[INFO] [stdout] 2026-02-06T15:20:03.852+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-12-thread-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:03.855+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-12-thread-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:04.068+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-1] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:04.069+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-1] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:05.862+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:05.869+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:07.085+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-12-thread-6] i.g.r.t.internal.TimeLimiterImpl         : Event TIMEOUT published: 2026-02-06T15:20:07.085182100+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a timeout exception.
[INFO] [stdout] 2026-02-06T15:20:07.085+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-12-thread-6] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] java.util.concurrent.TimeoutException: TimeLimiter 'externalService' recorded a timeout exception.
[INFO] [stdout] 	at io.github.resilience4j.timelimiter.TimeLimiter.createdTimeoutExceptionWithName(TimeLimiter.java:225) ~[resilience4j-timelimiter-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.timelimiter.internal.TimeLimiterImpl$Timeout.lambda$of$0(TimeLimiterImpl.java:185) ~[resilience4j-timelimiter-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:20:07.086+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-12-thread-6] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:20:07.086203600+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'java.util.concurrent.TimeoutException: TimeLimiter 'externalService' recorded a timeout exception.'. Elapsed time: 3016 ms
[INFO] [stdout] 2026-02-06T15:20:07.086+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-12-thread-6] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:07.094+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-12-thread-6] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:07.097+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:46) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2194) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCompletionStage$1(CircuitBreaker.java:114) ~[resilience4j-circuitbreaker-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2194) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.timelimiter.internal.TimeLimiterImpl$Timeout.lambda$of$0(TimeLimiterImpl.java:185) ~[resilience4j-timelimiter-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:20:08.123+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:08.125+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:08.125+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:09.094+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:09.101+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:11.135+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-12-thread-3] i.g.r.t.internal.TimeLimiterImpl         : Event TIMEOUT published: 2026-02-06T15:20:11.135679400+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a timeout exception.
[INFO] [stdout] 2026-02-06T15:20:11.136+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-12-thread-3] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] java.util.concurrent.TimeoutException: TimeLimiter 'externalService' recorded a timeout exception.
[INFO] [stdout] 	at io.github.resilience4j.timelimiter.TimeLimiter.createdTimeoutExceptionWithName(TimeLimiter.java:225) ~[resilience4j-timelimiter-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.timelimiter.internal.TimeLimiterImpl$Timeout.lambda$of$0(TimeLimiterImpl.java:185) ~[resilience4j-timelimiter-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:20:11.137+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-12-thread-3] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:20:11.136909800+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'java.util.concurrent.TimeoutException: TimeLimiter 'externalService' recorded a timeout exception.'. Elapsed time: 3011 ms
[INFO] [stdout] 2026-02-06T15:20:11.138+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-12-thread-3] i.g.r.c.i.CircuitBreakerStateMachine     : Event STATE_TRANSITION published: 2026-02-06T15:20:11.138060900+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' changed state from HALF_OPEN to OPEN
[INFO] [stdout] 2026-02-06T15:20:11.138+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-12-thread-3] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:11.146+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-12-thread-3] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:11.352+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-9] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:11.352+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-9] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:20:11.352959+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:20:11.352+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-9] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:11.359+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-9] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:11.362+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:48) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2357) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:144) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$1(CompletionStageFallbackDecorator.java:43) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.core.functions.CheckedSupplier.lambda$andThen$0(CheckedSupplier.java:34) ~[resilience4j-core-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$handleJoinPointCompletableFuture$1(RetryAspect.java:188) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.retry.Retry$AsyncRetryBlock.run(Retry.java:551) ~[resilience4j-retry-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:20:12.385+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:12.385+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:12.386+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:20:12.386771+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:20:12.388+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:12.395+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:12.609+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-5] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:12.609+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-5] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:20:12.609573600+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:20:12.609+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-5] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:12.615+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-5] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:12.617+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:48) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2357) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:144) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$1(CompletionStageFallbackDecorator.java:43) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.core.functions.CheckedSupplier.lambda$andThen$0(CheckedSupplier.java:34) ~[resilience4j-core-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$handleJoinPointCompletableFuture$1(RetryAspect.java:188) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.retry.Retry$AsyncRetryBlock.run(Retry.java:551) ~[resilience4j-retry-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:20:13.143+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:13.151+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:13.649+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:13.649+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:13.649+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:20:13.649787500+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:20:13.649+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:13.654+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:13.864+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-11-thread-10] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:13.864+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-11-thread-10] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:20:13.864692100+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:20:13.864+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-11-thread-10] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:13.868+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-11-thread-10] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:13.869+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:48) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2357) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:144) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$1(CompletionStageFallbackDecorator.java:43) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.core.functions.CheckedSupplier.lambda$andThen$0(CheckedSupplier.java:34) ~[resilience4j-core-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$handleJoinPointCompletableFuture$1(RetryAspect.java:188) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.retry.Retry$AsyncRetryBlock.run(Retry.java:551) ~[resilience4j-retry-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:20:14.893+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:14.893+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:14.894+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:20:14.893393700+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:20:14.894+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:14.900+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:15.103+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-3] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:15.104+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-3] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:20:15.104388600+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:20:15.104+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-3] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:15.109+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-3] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:15.110+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:48) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2357) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:144) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$1(CompletionStageFallbackDecorator.java:43) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.core.functions.CheckedSupplier.lambda$andThen$0(CheckedSupplier.java:34) ~[resilience4j-core-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$handleJoinPointCompletableFuture$1(RetryAspect.java:188) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.retry.Retry$AsyncRetryBlock.run(Retry.java:551) ~[resilience4j-retry-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:20:16.133+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:16.134+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:16.135+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:20:16.134285300+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:20:16.135+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:16.143+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:16.345+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-11-thread-11] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:16.346+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-11-thread-11] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:20:16.346071500+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:20:16.346+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-11-thread-11] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:16.352+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-11-thread-11] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:16.354+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:48) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2357) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:144) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$1(CompletionStageFallbackDecorator.java:43) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.core.functions.CheckedSupplier.lambda$andThen$0(CheckedSupplier.java:34) ~[resilience4j-core-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$handleJoinPointCompletableFuture$1(RetryAspect.java:188) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.retry.Retry$AsyncRetryBlock.run(Retry.java:551) ~[resilience4j-retry-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:20:17.373+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:17.374+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:17.374+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:20:17.374856900+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:20:17.374+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:17.379+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:17.587+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-6] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:17.587+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-6] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:20:17.587596600+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:20:17.587+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-6] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:17.592+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-6] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:17.593+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:48) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2357) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:144) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$1(CompletionStageFallbackDecorator.java:43) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.core.functions.CheckedSupplier.lambda$andThen$0(CheckedSupplier.java:34) ~[resilience4j-core-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$handleJoinPointCompletableFuture$1(RetryAspect.java:188) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.retry.Retry$AsyncRetryBlock.run(Retry.java:551) ~[resilience4j-retry-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:20:18.611+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:18.611+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:18.611+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:20:18.611158+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:20:18.611+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:18.615+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:18.825+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-11-thread-12] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:18.825+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-11-thread-12] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:20:18.825640400+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:20:18.825+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-11-thread-12] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:18.829+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-11-thread-12] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:18.830+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:48) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2357) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:144) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$1(CompletionStageFallbackDecorator.java:43) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.core.functions.CheckedSupplier.lambda$andThen$0(CheckedSupplier.java:34) ~[resilience4j-core-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$handleJoinPointCompletableFuture$1(RetryAspect.java:188) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.retry.Retry$AsyncRetryBlock.run(Retry.java:551) ~[resilience4j-retry-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:20:19.854+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:19.855+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:19.855+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:20:19.855898400+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:20:19.855+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:19.862+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:20.064+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-2] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:20.064+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:20:20.064533900+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:20:20.065+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:20.070+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-11-thread-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:20.072+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:48) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2357) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:144) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$1(CompletionStageFallbackDecorator.java:43) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.core.functions.CheckedSupplier.lambda$andThen$0(CheckedSupplier.java:34) ~[resilience4j-core-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$handleJoinPointCompletableFuture$1(RetryAspect.java:188) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.retry.Retry$AsyncRetryBlock.run(Retry.java:551) ~[resilience4j-retry-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:20:21.104+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:21.104+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:21.104+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:20:21.104337900+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:20:21.105+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:21.112+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:21.145+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ransitionThread] i.g.r.c.i.CircuitBreakerStateMachine     : Event STATE_TRANSITION published: 2026-02-06T15:20:21.145196400+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' changed state from OPEN to HALF_OPEN
[INFO] [stdout] 2026-02-06T15:20:21.315+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-11-thread-13] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:21.316+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-11-thread-13] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] java.lang.IllegalStateException: Required to bind 2 arguments, but only bound 1 (JoinPointMatch was NOT bound in invocation)
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.argBinding(AbstractAspectJAdvice.java:601) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.lambda$handleJoinPointCompletableFuture$1(CircuitBreakerAspect.java:167) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCompletionStage$2(CircuitBreaker.java:107) ~[resilience4j-circuitbreaker-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCompletionStage(CircuitBreaker.java:715) ~[resilience4j-circuitbreaker-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.handleJoinPointCompletableFuture(CircuitBreakerAspect.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.proceed(CircuitBreakerAspect.java:124) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.lambda$circuitBreakerAroundAdvice$0(CircuitBreakerAspect.java:108) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.core.functions.CheckedSupplier.lambda$andThen$0(CheckedSupplier.java:34) ~[resilience4j-core-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$handleJoinPointCompletableFuture$1(RetryAspect.java:188) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.retry.Retry$AsyncRetryBlock.run(Retry.java:551) ~[resilience4j-retry-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:20:21.317+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-11-thread-13] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:20:21.317505900+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'java.lang.IllegalStateException: Required to bind 2 arguments, but only bound 1 (JoinPointMatch was NOT bound in invocation)'. Elapsed time: 0 ms
[INFO] [stdout] 2026-02-06T15:20:21.318+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-11-thread-13] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:21.323+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-11-thread-13] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:21.326+05:30 ERROR 27072 --- [circuit-breaker-demo] [io-8080-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.ExecutionException: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.demo.circuitbreaker.model.Product (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; com.demo.circuitbreaker.model.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @216b08a3)
[INFO] [stdout] 	at com.demo.circuitbreaker.service.RedisCacheService.getProduct(RedisCacheService.java:22) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.getProductFromCache(ProductService.java:57) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.invoke(FallbackMethod.java:218) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackMethod.fallback(FallbackMethod.java:165) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.tryRecover(CompletionStageFallbackDecorator.java:63) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$0(CompletionStageFallbackDecorator.java:46) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2357) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:144) ~[na:na]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.CompletionStageFallbackDecorator.lambda$decorate$1(CompletionStageFallbackDecorator.java:43) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.core.functions.CheckedSupplier.lambda$andThen$0(CheckedSupplier.java:34) ~[resilience4j-core-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$handleJoinPointCompletableFuture$1(RetryAspect.java:188) ~[resilience4j-spring6-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.retry.Retry$AsyncRetryBlock.run(Retry.java:551) ~[resilience4j-retry-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:20:37.378+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:37.379+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:37.379+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:37.592+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:37.609+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:37.609+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:20:37.609601800+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:20:37.609+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:20:37.609+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:20:37.609601800+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 229 ms
[INFO] [stdout] 2026-02-06T15:20:38.631+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:38.631+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:38.632+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:38.846+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:38.851+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:38.851+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:20:38.851256200+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:20:38.851+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:20:38.851+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:20:38.851256200+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 219 ms
[INFO] [stdout] 2026-02-06T15:20:38.852+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event STATE_TRANSITION published: 2026-02-06T15:20:38.852407500+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' changed state from HALF_OPEN to CLOSED
[INFO] [stdout] 2026-02-06T15:20:39.867+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:39.867+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:39.868+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:20:40.085+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:20:40.098+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:20:40.098+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:20:40.098533400+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:20:40.098+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:20:40.098+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:20:40.098533400+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 230 ms
[INFO] [stdout] 2026-02-06T15:22:07.922+05:30  INFO 27072 --- [circuit-breaker-demo] [   File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 15 class path changes (0 additions, 15 deletions, 0 modifications)
[INFO] [stdout] 2026-02-06T15:22:07.987+05:30 DEBUG 27072 --- [circuit-breaker-demo] [      Thread-19] o.s.d.r.l.RedisMessageListenerContainer  : Stopped RedisMessageListenerContainer
[INFO] [stdout] 
[INFO] [stdout]   .   ____          _            __ _ _
[INFO] [stdout]  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
[INFO] [stdout] ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
[INFO] [stdout]  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
[INFO] [stdout]   '  |____| .__|_| |_|_| |_\__, | / / / /
[INFO] [stdout]  =========|_|==============|___/=/_/_/_/
[INFO] [stdout] 
[INFO] [stdout]  :: Spring Boot ::                (v3.3.8)
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:22:08.247+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] c.d.c.CircuitBreakerDemoApplication      : Starting CircuitBreakerDemoApplication using Java 21.0.8 with PID 27072 (D:\docker_and_k8s\circuit-breaker-demo\target\classes started by pilla in D:\docker_and_k8s\circuit-breaker-demo)
[INFO] [stdout] 2026-02-06T15:22:08.249+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] c.d.c.CircuitBreakerDemoApplication      : No active profile set, falling back to 1 default profile: "default"
[INFO] [stdout] 2026-02-06T15:22:09.166+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:09.167+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:09.173+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:09.174+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:09.208+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:09.208+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:09.225+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:09.227+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:09.237+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:09.238+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:09.252+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:09.254+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:09.272+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:09.273+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:09.623+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
[INFO] [stdout] 2026-02-06T15:22:09.623+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[INFO] [stdout] 2026-02-06T15:22:09.629+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
[INFO] [stdout] 2026-02-06T15:22:10.614+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
[INFO] [stdout] 2026-02-06T15:22:10.618+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
[INFO] [stdout] 2026-02-06T15:22:10.619+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
[INFO] [stdout] 2026-02-06T15:22:10.680+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
[INFO] [stdout] 2026-02-06T15:22:10.680+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2426 ms
[INFO] [stdout] 2026-02-06T15:22:18.425+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.d.r.l.RedisMessageListenerContainer  : Starting RedisMessageListenerContainer...
[INFO] [stdout] 2026-02-06T15:22:18.426+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.d.r.l.RedisMessageListenerContainer  : Postpone listening for Redis messages until actual listeners are added
[INFO] [stdout] 2026-02-06T15:22:18.735+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[INFO] [stdout] 2026-02-06T15:22:18.804+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
[INFO] [stdout] 2026-02-06T15:22:18.957+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
[INFO] [stdout] 2026-02-06T15:22:18.979+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] c.d.c.CircuitBreakerDemoApplication      : Started CircuitBreakerDemoApplication in 10.816 seconds (process running for 535.099)
[INFO] [stdout] 2026-02-06T15:22:18.986+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation delta:
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] ==========================
[INFO] [stdout] CONDITION EVALUATION DELTA
[INFO] [stdout] ==========================
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Positive matches:
[INFO] [stdout] -----------------
[INFO] [stdout] 
[INFO] [stdout]    RedisAutoConfiguration#redisTemplate matched:
[INFO] [stdout]       - @ConditionalOnSingleCandidate (types: org.springframework.data.redis.connection.RedisConnectionFactory; SearchStrategy: all) found a single bean 'redisConnectionFactory'; @ConditionalOnMissingBean (names: redisTemplate; SearchStrategy: all) did not find any beans (OnBeanCondition)
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Negative matches:
[INFO] [stdout] -----------------
[INFO] [stdout] 
[INFO] [stdout]     None
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Exclusions:
[INFO] [stdout] -----------
[INFO] [stdout] 
[INFO] [stdout]     None
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Unconditional classes:
[INFO] [stdout] ----------------------
[INFO] [stdout] 
[INFO] [stdout]     None
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:22:20.140+05:30  INFO 27072 --- [circuit-breaker-demo] [   File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 15 class path changes (15 additions, 0 deletions, 0 modifications)
[INFO] [stdout] 2026-02-06T15:22:20.174+05:30 DEBUG 27072 --- [circuit-breaker-demo] [      Thread-23] o.s.d.r.l.RedisMessageListenerContainer  : Stopped RedisMessageListenerContainer
[INFO] [stdout] 
[INFO] [stdout]   .   ____          _            __ _ _
[INFO] [stdout]  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
[INFO] [stdout] ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
[INFO] [stdout]  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
[INFO] [stdout]   '  |____| .__|_| |_|_| |_\__, | / / / /
[INFO] [stdout]  =========|_|==============|___/=/_/_/_/
[INFO] [stdout] 
[INFO] [stdout]  :: Spring Boot ::                (v3.3.8)
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:22:20.387+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] c.d.c.CircuitBreakerDemoApplication      : Starting CircuitBreakerDemoApplication using Java 21.0.8 with PID 27072 (D:\docker_and_k8s\circuit-breaker-demo\target\classes started by pilla in D:\docker_and_k8s\circuit-breaker-demo)
[INFO] [stdout] 2026-02-06T15:22:20.388+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] c.d.c.CircuitBreakerDemoApplication      : No active profile set, falling back to 1 default profile: "default"
[INFO] [stdout] 2026-02-06T15:22:21.191+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:21.192+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:21.204+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:21.204+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:21.248+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:21.250+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:21.274+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:21.277+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:21.291+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:21.293+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:21.316+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:21.318+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:21.337+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.RxJava2OnClasspathCondition    : RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:21.340+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] i.g.r.s.u.ReactorOnClasspathCondition    : Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
[INFO] [stdout] 2026-02-06T15:22:21.684+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
[INFO] [stdout] 2026-02-06T15:22:21.684+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[INFO] [stdout] 2026-02-06T15:22:21.696+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
[INFO] [stdout] 2026-02-06T15:22:22.480+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
[INFO] [stdout] 2026-02-06T15:22:22.482+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
[INFO] [stdout] 2026-02-06T15:22:22.483+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
[INFO] [stdout] 2026-02-06T15:22:22.534+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
[INFO] [stdout] 2026-02-06T15:22:22.534+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2140 ms
[INFO] [stdout] 2026-02-06T15:22:29.857+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.d.r.l.RedisMessageListenerContainer  : Starting RedisMessageListenerContainer...
[INFO] [stdout] 2026-02-06T15:22:29.857+05:30 DEBUG 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.d.r.l.RedisMessageListenerContainer  : Postpone listening for Redis messages until actual listeners are added
[INFO] [stdout] 2026-02-06T15:22:30.169+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[INFO] [stdout] 2026-02-06T15:22:30.231+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoints beneath base path '/actuator'
[INFO] [stdout] 2026-02-06T15:22:30.359+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
[INFO] [stdout] 2026-02-06T15:22:30.383+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] c.d.c.CircuitBreakerDemoApplication      : Started CircuitBreakerDemoApplication in 10.068 seconds (process running for 546.503)
[INFO] [stdout] 2026-02-06T15:22:30.392+05:30  INFO 27072 --- [circuit-breaker-demo] [  restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation delta:
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] ==========================
[INFO] [stdout] CONDITION EVALUATION DELTA
[INFO] [stdout] ==========================
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Positive matches:
[INFO] [stdout] -----------------
[INFO] [stdout] 
[INFO] [stdout]     None
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Negative matches:
[INFO] [stdout] -----------------
[INFO] [stdout] 
[INFO] [stdout]    RedisAutoConfiguration#redisTemplate:
[INFO] [stdout]       Did not match:
[INFO] [stdout]          - @ConditionalOnMissingBean (names: redisTemplate; SearchStrategy: all) found beans named redisTemplate (OnBeanCondition)
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Exclusions:
[INFO] [stdout] -----------
[INFO] [stdout] 
[INFO] [stdout]     None
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] Unconditional classes:
[INFO] [stdout] ----------------------
[INFO] [stdout] 
[INFO] [stdout]     None
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:22:30.511+05:30  INFO 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
[INFO] [stdout] 2026-02-06T15:22:30.511+05:30  INFO 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
[INFO] [stdout] 2026-02-06T15:22:30.514+05:30  INFO 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
[INFO] [stdout] 2026-02-06T15:22:30.533+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:22:30.634+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:22:30.635+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:22:30.640+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:22:30.640+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:22:30.646+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:22:30.647+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:22:30.652+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:22:30.652+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:22:30.656+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:22:39.309+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:39.309+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:39.309+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:39.560+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:22:39.580+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:22:39.583+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:22:39.583548900+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:22:39.583+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:22:39.584+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:22:39.583548900+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 273 ms
[INFO] [stdout] 2026-02-06T15:22:40.676+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:40.677+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:40.677+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:40.892+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:22:40.898+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:22:40.899+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:22:40.898796700+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:22:40.899+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:22:40.900+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:22:40.899463700+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 222 ms
[INFO] [stdout] 2026-02-06T15:22:41.925+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:41.926+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:41.927+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:42.142+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:22:42.162+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:22:42.162+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:22:42.162278700+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:22:42.162+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:22:42.162+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:22:42.162941+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 236 ms
[INFO] [stdout] 2026-02-06T15:22:43.186+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:43.187+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:43.187+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:43.401+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:22:43.421+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:22:43.422+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:22:43.422990900+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:22:43.423+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:22:43.423+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:22:43.423334400+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 235 ms
[INFO] [stdout] 2026-02-06T15:22:44.438+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:44.438+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:44.439+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:44.648+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:22:44.666+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:22:44.667+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:22:44.667220+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:22:44.667+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:22:44.667+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:22:44.667220+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 228 ms
[INFO] [stdout] 2026-02-06T15:22:45.689+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:45.691+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:45.691+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:45.902+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:22:45.909+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:22:45.909+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:22:45.909073100+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:22:45.909+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:22:45.909+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:22:45.909692400+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 218 ms
[INFO] [stdout] 2026-02-06T15:22:46.920+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:46.921+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:46.921+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:47.138+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:22:47.156+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:22:47.156+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:22:47.156576200+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:22:47.157+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:22:47.157+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:22:47.157166800+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 235 ms
[INFO] [stdout] 2026-02-06T15:22:48.178+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:48.178+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:48.179+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:48.398+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:22:48.404+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:22:48.404+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:22:48.404659400+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:22:48.404+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:22:48.405+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:22:48.404659400+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 225 ms
[INFO] [stdout] 2026-02-06T15:22:49.422+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:49.423+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:49.423+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:49.640+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:22:49.645+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:22:49.645+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:22:49.645420500+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:22:49.645+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:22:49.645+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:22:49.645995500+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 221 ms
[INFO] [stdout] 2026-02-06T15:22:50.663+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:50.664+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:50.665+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:50.879+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:22:50.897+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:22:50.898+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:22:50.898462800+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:22:50.898+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:22:50.899+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:22:50.898462800+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 233 ms
[INFO] [stdout] 2026-02-06T15:22:59.940+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:59.940+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:59.941+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:22:59.946+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Simulated downstream failure] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.IllegalStateException: Simulated downstream failure
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:22:59.960+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event ERROR published: 2026-02-06T15:22:59.960951700+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:52:59.952+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'
[INFO] [stdout] 2026-02-06T15:22:59.960+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:52:59.952+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"
[INFO] [stdout] 	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:102) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:404) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.lambda$getProductById$0(ProductService.java:35) ~[classes/:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:22:59.962+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:22:59.962470700+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:52:59.952+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'. Elapsed time: 20 ms
[INFO] [stdout] 2026-02-06T15:22:59.964+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:22:59.970+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:01.001+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:01.002+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:01.002+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:01.011+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Simulated downstream failure] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.IllegalStateException: Simulated downstream failure
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:23:01.017+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event ERROR published: 2026-02-06T15:23:01.017872800+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:53:01.013+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'
[INFO] [stdout] 2026-02-06T15:23:01.019+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:53:01.013+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"
[INFO] [stdout] 	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:102) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:404) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.lambda$getProductById$0(ProductService.java:35) ~[classes/:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:23:01.019+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:23:01.019439900+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:53:01.013+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'. Elapsed time: 16 ms
[INFO] [stdout] 2026-02-06T15:23:01.021+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:01.026+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:02.061+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:02.061+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:02.061+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:02.069+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Simulated downstream failure] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.IllegalStateException: Simulated downstream failure
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:23:02.078+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event ERROR published: 2026-02-06T15:23:02.078852700+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:53:02.072+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'
[INFO] [stdout] 2026-02-06T15:23:02.079+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:53:02.072+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"
[INFO] [stdout] 	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:102) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:404) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.lambda$getProductById$0(ProductService.java:35) ~[classes/:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:23:02.080+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:23:02.080226700+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:53:02.072+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'. Elapsed time: 16 ms
[INFO] [stdout] 2026-02-06T15:23:02.081+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:02.088+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:03.103+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:03.103+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:03.103+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:03.109+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Simulated downstream failure] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.IllegalStateException: Simulated downstream failure
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:23:03.115+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event ERROR published: 2026-02-06T15:23:03.114475700+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:53:03.111+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'
[INFO] [stdout] 2026-02-06T15:23:03.115+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:53:03.111+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"
[INFO] [stdout] 	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:102) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:404) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.lambda$getProductById$0(ProductService.java:35) ~[classes/:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:23:03.116+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:23:03.116017700+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:53:03.111+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'. Elapsed time: 10 ms
[INFO] [stdout] 2026-02-06T15:23:03.116+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:03.121+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:04.145+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:04.145+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:04.146+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:04.156+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Simulated downstream failure] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.IllegalStateException: Simulated downstream failure
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:23:04.168+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event ERROR published: 2026-02-06T15:23:04.167764700+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:53:04.161+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'
[INFO] [stdout] 2026-02-06T15:23:04.168+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:53:04.161+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"
[INFO] [stdout] 	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:102) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:404) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.lambda$getProductById$0(ProductService.java:35) ~[classes/:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:23:04.168+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:23:04.168289100+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:53:04.161+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'. Elapsed time: 22 ms
[INFO] [stdout] 2026-02-06T15:23:04.169+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event FAILURE_RATE_EXCEEDED published: 2026-02-06T15:23:04.169814400+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' exceeded failure rate threshold. Current failure rate: 50.0
[INFO] [stdout] 2026-02-06T15:23:04.175+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event STATE_TRANSITION published: 2026-02-06T15:23:04.170844800+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' changed state from CLOSED to OPEN
[INFO] [stdout] 2026-02-06T15:23:04.176+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:04.184+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:05.205+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:05.205+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:05.206+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:23:05.205765900+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:23:05.206+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:05.210+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:06.231+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:06.231+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:06.231+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:23:06.231638300+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:23:06.231+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:06.237+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:07.250+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:07.250+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:07.250+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:23:07.250949800+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:23:07.251+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:07.254+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:08.273+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:08.273+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:08.273+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:23:08.273478400+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:23:08.274+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:08.278+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:09.284+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:09.285+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:09.285+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:23:09.285325600+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:23:09.285+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:09.289+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:10.297+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:10.297+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:10.299+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:23:10.299395200+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:23:10.299+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:10.305+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:11.322+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:11.323+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:11.324+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:23:11.323850+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:23:11.325+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:11.329+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:12.344+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:12.345+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:12.345+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:23:12.345757600+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:23:12.346+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:12.349+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:13.371+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:13.371+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:13.372+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:23:13.371359500+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:23:13.372+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:13.377+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:14.172+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ransitionThread] i.g.r.c.i.CircuitBreakerStateMachine     : Event STATE_TRANSITION published: 2026-02-06T15:23:14.172648800+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' changed state from OPEN to HALF_OPEN
[INFO] [stdout] 2026-02-06T15:23:14.396+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:14.396+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:14.396+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:14.415+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Simulated downstream failure] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.IllegalStateException: Simulated downstream failure
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:23:14.428+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event ERROR published: 2026-02-06T15:23:14.428460200+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:53:14.420+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'
[INFO] [stdout] 2026-02-06T15:23:14.429+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:53:14.420+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"
[INFO] [stdout] 	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:102) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:404) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.lambda$getProductById$0(ProductService.java:35) ~[classes/:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:23:14.431+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:23:14.431001700+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:53:14.420+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'. Elapsed time: 33 ms
[INFO] [stdout] 2026-02-06T15:23:14.432+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:14.441+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:38.487+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:38.487+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:38.488+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:41.499+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-16-thread-10] i.g.r.t.internal.TimeLimiterImpl         : Event TIMEOUT published: 2026-02-06T15:23:41.499159700+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a timeout exception.
[INFO] [stdout] 2026-02-06T15:23:41.499+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-16-thread-10] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] java.util.concurrent.TimeoutException: TimeLimiter 'externalService' recorded a timeout exception.
[INFO] [stdout] 	at io.github.resilience4j.timelimiter.TimeLimiter.createdTimeoutExceptionWithName(TimeLimiter.java:225) ~[resilience4j-timelimiter-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.timelimiter.internal.TimeLimiterImpl$Timeout.lambda$of$0(TimeLimiterImpl.java:185) ~[resilience4j-timelimiter-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:23:41.500+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-16-thread-10] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:23:41.500907300+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'java.util.concurrent.TimeoutException: TimeLimiter 'externalService' recorded a timeout exception.'. Elapsed time: 3011 ms
[INFO] [stdout] 2026-02-06T15:23:41.500+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-16-thread-10] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:41.505+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-16-thread-10] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:42.525+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:42.525+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:42.525+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:43.497+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:43.516+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:45.540+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-16-thread-6] i.g.r.t.internal.TimeLimiterImpl         : Event TIMEOUT published: 2026-02-06T15:23:45.540639400+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a timeout exception.
[INFO] [stdout] 2026-02-06T15:23:45.541+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-16-thread-6] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] java.util.concurrent.TimeoutException: TimeLimiter 'externalService' recorded a timeout exception.
[INFO] [stdout] 	at io.github.resilience4j.timelimiter.TimeLimiter.createdTimeoutExceptionWithName(TimeLimiter.java:225) ~[resilience4j-timelimiter-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.timelimiter.internal.TimeLimiterImpl$Timeout.lambda$of$0(TimeLimiterImpl.java:185) ~[resilience4j-timelimiter-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:23:45.541+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-16-thread-6] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:23:45.541289300+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'java.util.concurrent.TimeoutException: TimeLimiter 'externalService' recorded a timeout exception.'. Elapsed time: 3015 ms
[INFO] [stdout] 2026-02-06T15:23:45.541+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-16-thread-6] i.g.r.c.i.CircuitBreakerStateMachine     : Event STATE_TRANSITION published: 2026-02-06T15:23:45.541883700+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' changed state from HALF_OPEN to OPEN
[INFO] [stdout] 2026-02-06T15:23:45.541+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-16-thread-6] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:45.547+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-16-thread-6] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:46.563+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:46.564+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:46.565+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:23:46.565440300+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:23:46.566+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:46.574+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:47.545+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-3] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:47.563+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-3] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:47.591+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:47.591+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:47.591+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:23:47.591979+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:23:47.591+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:47.595+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:48.611+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:48.611+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:48.611+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:23:48.611370900+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:23:48.611+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:48.615+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:49.630+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:49.630+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:49.630+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:23:49.630922100+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:23:49.631+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:49.636+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:50.649+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:50.651+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:50.651+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:23:50.651163400+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:23:50.651+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:50.654+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:51.664+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:51.665+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:51.665+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:23:51.665380800+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:23:51.666+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:51.671+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:52.681+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:52.681+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:52.682+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:23:52.682772900+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:23:52.682+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:52.685+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:53.692+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:53.692+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:23:53.692+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:23:53.692404600+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:23:53.692+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:23:53.695+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:23:55.548+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ransitionThread] i.g.r.c.i.CircuitBreakerStateMachine     : Event STATE_TRANSITION published: 2026-02-06T15:23:55.548730500+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' changed state from OPEN to HALF_OPEN
[INFO] [stdout] 2026-02-06T15:24:09.747+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:24:09.747+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:24:09.747+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:24:09.963+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-3] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:24:09.979+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-3] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:24:09.979+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-3] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:24:09.979824100+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:24:09.979+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-3] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:24:09.980+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-3] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:24:09.980350+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 231 ms
[INFO] [stdout] 2026-02-06T15:24:10.997+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:24:10.997+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:24:10.999+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:24:11.213+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-3] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:24:11.217+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-3] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:24:11.217+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-3] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:24:11.217667600+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:24:11.217+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-3] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:24:11.218+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-3] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:24:11.218281500+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 219 ms
[INFO] [stdout] 2026-02-06T15:24:12.231+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:24:12.231+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:24:12.231+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:24:12.449+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-3] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:24:12.466+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-3] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:24:12.466+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-3] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:24:12.466794900+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:24:12.466+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-3] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:24:12.466+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-3] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:24:12.466794900+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 234 ms
[INFO] [stdout] 2026-02-06T15:24:12.467+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-3] i.g.r.c.i.CircuitBreakerStateMachine     : Event STATE_TRANSITION published: 2026-02-06T15:24:12.467304600+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' changed state from HALF_OPEN to CLOSED
[INFO] [stdout] 2026-02-06T15:25:07.117+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:07.124+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:07.124+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:07.130+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:07.131+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:07.137+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:07.137+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:07.141+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:07.142+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:07.147+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:15.681+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:15.681+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:15.681+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:15.895+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:15.900+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:15.900+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:25:15.900427500+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:25:15.900+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:25:15.900+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:25:15.900970600+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 219 ms
[INFO] [stdout] 2026-02-06T15:25:16.953+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:16.955+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:16.955+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:17.164+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:17.181+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:17.181+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:25:17.181776300+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:25:17.181+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:25:17.181+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:25:17.181776300+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 225 ms
[INFO] [stdout] 2026-02-06T15:25:18.234+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:18.234+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:18.235+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:18.449+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:18.468+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:18.468+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:25:18.468078200+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:25:18.468+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:25:18.468+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:25:18.468619800+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 233 ms
[INFO] [stdout] 2026-02-06T15:25:19.475+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:19.475+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:19.475+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:19.692+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:19.696+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:19.696+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:25:19.696202400+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:25:19.696+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:25:19.696+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:25:19.696202400+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 220 ms
[INFO] [stdout] 2026-02-06T15:25:20.715+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:20.715+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:20.715+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:20.931+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:20.936+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:20.936+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:25:20.936761500+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:25:20.936+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:25:20.936+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:25:20.936761500+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 221 ms
[INFO] [stdout] 2026-02-06T15:25:21.944+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:21.944+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:21.944+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:22.162+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:22.178+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:22.178+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:25:22.178883200+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:25:22.178+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:25:22.178+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:25:22.178883200+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 234 ms
[INFO] [stdout] 2026-02-06T15:25:23.185+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:23.185+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:23.185+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:23.403+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:23.419+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:23.419+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:25:23.419954200+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:25:23.419+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:25:23.419+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:25:23.419954200+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 234 ms
[INFO] [stdout] 2026-02-06T15:25:24.441+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:24.441+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:24.442+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:24.655+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:24.673+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:24.674+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:25:24.674414800+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:25:24.674+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:25:24.674+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:25:24.674414800+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 232 ms
[INFO] [stdout] 2026-02-06T15:25:25.694+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:25.694+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:25.694+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:25.911+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:25.928+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:25.928+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:25:25.928076400+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:25:25.928+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:25:25.928+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:25:25.928076400+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 232 ms
[INFO] [stdout] 2026-02-06T15:25:26.938+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:26.938+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:26.940+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:27.154+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:27.162+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:27.162+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:25:27.162591900+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:25:27.163+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:25:27.163+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:25:27.163190700+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 222 ms
[INFO] [stdout] 2026-02-06T15:25:36.191+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:36.191+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:36.191+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:36.194+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Simulated downstream failure] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.IllegalStateException: Simulated downstream failure
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:25:36.202+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event ERROR published: 2026-02-06T15:25:36.202218500+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:55:36.197+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'
[INFO] [stdout] 2026-02-06T15:25:36.202+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:55:36.197+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"
[INFO] [stdout] 	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:102) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:404) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.lambda$getProductById$0(ProductService.java:35) ~[classes/:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:25:36.203+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:25:36.203108300+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:55:36.197+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'. Elapsed time: 10 ms
[INFO] [stdout] 2026-02-06T15:25:36.203+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:36.208+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:37.228+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:37.229+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:37.229+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:37.236+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Simulated downstream failure] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.IllegalStateException: Simulated downstream failure
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:25:37.244+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event ERROR published: 2026-02-06T15:25:37.244775700+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:55:37.239+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'
[INFO] [stdout] 2026-02-06T15:25:37.244+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:55:37.239+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"
[INFO] [stdout] 	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:102) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:404) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.lambda$getProductById$0(ProductService.java:35) ~[classes/:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:25:37.246+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:25:37.246335400+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:55:37.239+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'. Elapsed time: 15 ms
[INFO] [stdout] 2026-02-06T15:25:37.247+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:37.253+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:38.279+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:38.279+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:38.280+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:38.287+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Simulated downstream failure] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.IllegalStateException: Simulated downstream failure
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:25:38.294+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event ERROR published: 2026-02-06T15:25:38.293906+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:55:38.288+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'
[INFO] [stdout] 2026-02-06T15:25:38.294+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:55:38.288+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"
[INFO] [stdout] 	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:102) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:404) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.lambda$getProductById$0(ProductService.java:35) ~[classes/:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:25:38.296+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:25:38.296715800+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:55:38.288+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'. Elapsed time: 14 ms
[INFO] [stdout] 2026-02-06T15:25:38.297+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:38.302+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:39.321+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:39.321+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:39.322+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:39.326+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Simulated downstream failure] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.IllegalStateException: Simulated downstream failure
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:25:39.331+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event ERROR published: 2026-02-06T15:25:39.331471200+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:55:39.328+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'
[INFO] [stdout] 2026-02-06T15:25:39.331+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:55:39.328+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"
[INFO] [stdout] 	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:102) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:404) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.lambda$getProductById$0(ProductService.java:35) ~[classes/:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:25:39.331+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:25:39.331471200+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:55:39.328+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'. Elapsed time: 9 ms
[INFO] [stdout] 2026-02-06T15:25:39.333+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:39.337+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:40.346+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:40.347+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:40.347+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:40.354+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Simulated downstream failure] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.IllegalStateException: Simulated downstream failure
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:25:40.363+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event ERROR published: 2026-02-06T15:25:40.363218300+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:55:40.358+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'
[INFO] [stdout] 2026-02-06T15:25:40.363+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:55:40.358+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"
[INFO] [stdout] 	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:102) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:404) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.lambda$getProductById$0(ProductService.java:35) ~[classes/:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:25:40.364+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:25:40.364260+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:55:40.358+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'. Elapsed time: 15 ms
[INFO] [stdout] 2026-02-06T15:25:40.365+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event FAILURE_RATE_EXCEEDED published: 2026-02-06T15:25:40.365822600+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' exceeded failure rate threshold. Current failure rate: 50.0
[INFO] [stdout] 2026-02-06T15:25:40.365+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event STATE_TRANSITION published: 2026-02-06T15:25:40.365822600+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' changed state from CLOSED to OPEN
[INFO] [stdout] 2026-02-06T15:25:40.366+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:40.372+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:41.397+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:41.397+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:41.398+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:25:41.398850500+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:25:41.398+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:41.403+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:42.421+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:42.421+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:42.421+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:25:42.421863100+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:25:42.422+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:42.428+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:43.443+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:43.443+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:43.443+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:25:43.443112300+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:25:43.443+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:43.448+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:44.463+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:44.464+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:44.464+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:25:44.464662800+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:25:44.465+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:44.470+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:45.485+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:45.485+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:45.485+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:25:45.485389500+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:25:45.487+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:45.491+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:46.539+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:46.540+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:46.540+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:25:46.540472100+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:25:46.541+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:46.546+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:47.559+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:47.559+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:47.560+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:25:47.560308700+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:25:47.560+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:47.566+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-5] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:48.580+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:48.580+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:48.581+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:25:48.580296300+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:25:48.581+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:48.585+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:49.607+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:49.608+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:49.608+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:25:49.608203700+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:25:49.608+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:49.611+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:25:50.381+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ransitionThread] i.g.r.c.i.CircuitBreakerStateMachine     : Event STATE_TRANSITION published: 2026-02-06T15:25:50.381849100+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' changed state from OPEN to HALF_OPEN
[INFO] [stdout] 2026-02-06T15:25:50.617+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:50.617+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:50.617+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:25:50.623+05:30 ERROR 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Simulated downstream failure] with root cause
[INFO] [stdout] 
[INFO] [stdout] java.lang.IllegalStateException: Simulated downstream failure
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18) ~[classes/:na]
[INFO] [stdout] 	at com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23) ~[classes/:na]
[INFO] [stdout] 	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:25:50.628+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.t.internal.TimeLimiterImpl         : Event ERROR published: 2026-02-06T15:25:50.628828700+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:55:50.625+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'
[INFO] [stdout] 2026-02-06T15:25:50.628+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:55:50.625+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"
[INFO] [stdout] 	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:102) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:404) ~[spring-web-6.1.16.jar:6.1.16]
[INFO] [stdout] 	at com.demo.circuitbreaker.service.ProductService.lambda$getProductById$0(ProductService.java:35) ~[classes/:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:25:50.629+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:25:50.629338500+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2026-02-06T09:55:50.625+00:00","status":500,"error":"Internal Server Error","trace":"java.lang.IllegalStateException: Simulated downstream failure\r\n\tat com.demo.circuitbreaker.service.ExternalProductService.getProduct(ExternalProductService.java:18)\r\n\tat com.demo.circuitbreaker.controller.ExternalProductController.getExternalProduct(ExternalProductController.java:23)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n","message":"Simulated downstream failure","path":"/external-api/products/1"}"'. Elapsed time: 9 ms
[INFO] [stdout] 2026-02-06T15:25:50.630+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:25:50.634+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:26:14.695+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:14.696+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:14.696+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:17.707+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-16-thread-13] i.g.r.t.internal.TimeLimiterImpl         : Event TIMEOUT published: 2026-02-06T15:26:17.707641200+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a timeout exception.
[INFO] [stdout] 2026-02-06T15:26:17.708+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-16-thread-13] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] java.util.concurrent.TimeoutException: TimeLimiter 'externalService' recorded a timeout exception.
[INFO] [stdout] 	at io.github.resilience4j.timelimiter.TimeLimiter.createdTimeoutExceptionWithName(TimeLimiter.java:225) ~[resilience4j-timelimiter-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.timelimiter.internal.TimeLimiterImpl$Timeout.lambda$of$0(TimeLimiterImpl.java:185) ~[resilience4j-timelimiter-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:26:17.708+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-16-thread-13] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:26:17.708147200+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'java.util.concurrent.TimeoutException: TimeLimiter 'externalService' recorded a timeout exception.'. Elapsed time: 3011 ms
[INFO] [stdout] 2026-02-06T15:26:17.708+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-16-thread-13] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:26:17.711+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ol-16-thread-13] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:26:18.722+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:18.722+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:18.723+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-8] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:19.717+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:26:19.723+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:26:21.727+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-16-thread-7] i.g.r.t.internal.TimeLimiterImpl         : Event TIMEOUT published: 2026-02-06T15:26:21.727305800+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a timeout exception.
[INFO] [stdout] 2026-02-06T15:26:21.727+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-16-thread-7] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' recorded an exception as failure:
[INFO] [stdout] 
[INFO] [stdout] java.util.concurrent.TimeoutException: TimeLimiter 'externalService' recorded a timeout exception.
[INFO] [stdout] 	at io.github.resilience4j.timelimiter.TimeLimiter.createdTimeoutExceptionWithName(TimeLimiter.java:225) ~[resilience4j-timelimiter-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at io.github.resilience4j.timelimiter.internal.TimeLimiterImpl$Timeout.lambda$of$0(TimeLimiterImpl.java:185) ~[resilience4j-timelimiter-2.2.0.jar:2.2.0]
[INFO] [stdout] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
[INFO] [stdout] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
[INFO] [stdout] 	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
[INFO] [stdout] 
[INFO] [stdout] 2026-02-06T15:26:21.728+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-16-thread-7] i.g.r.c.i.CircuitBreakerStateMachine     : Event ERROR published: 2026-02-06T15:26:21.728622+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded an error: 'java.util.concurrent.TimeoutException: TimeLimiter 'externalService' recorded a timeout exception.'. Elapsed time: 3004 ms
[INFO] [stdout] 2026-02-06T15:26:21.729+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-16-thread-7] i.g.r.c.i.CircuitBreakerStateMachine     : Event STATE_TRANSITION published: 2026-02-06T15:26:21.728622+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' changed state from HALF_OPEN to OPEN
[INFO] [stdout] 2026-02-06T15:26:21.729+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-16-thread-7] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:26:21.735+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ool-16-thread-7] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:26:22.755+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:22.755+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:22.755+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:26:22.755740800+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:26:22.755+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:26:22.758+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:26:23.733+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:26:23.741+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:26:23.796+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:23.797+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:23.797+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:26:23.797429200+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:26:23.798+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:26:23.803+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:26:24.815+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:24.815+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:24.815+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:26:24.815970500+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:26:24.816+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:26:24.821+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:26:25.841+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:25.841+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:25.842+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:26:25.842569700+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:26:25.842+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:26:25.849+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-3] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:26:26.865+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:26.865+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:26.865+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:26:26.865716800+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:26:26.865+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:26:26.871+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:26:27.888+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:27.888+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:27.888+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:26:27.888404500+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:26:27.890+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:26:27.895+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:26:28.917+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:28.917+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:28.917+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:26:28.917509900+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:26:28.917+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:26:28.921+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-6] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:26:29.946+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:29.946+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:29.946+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] i.g.r.c.i.CircuitBreakerStateMachine     : Event NOT_PERMITTED published: 2026-02-06T15:26:29.946010900+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a call which was not permitted.
[INFO] [stdout] 2026-02-06T15:26:29.947+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:26:29.953+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:26:31.738+05:30 DEBUG 27072 --- [circuit-breaker-demo] [ransitionThread] i.g.r.c.i.CircuitBreakerStateMachine     : Event STATE_TRANSITION published: 2026-02-06T15:26:31.738951800+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' changed state from OPEN to HALF_OPEN
[INFO] [stdout] 2026-02-06T15:26:45.990+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:45.990+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:45.990+05:30 DEBUG 27072 --- [circuit-breaker-demo] [io-8080-exec-10] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:46.206+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:26:46.215+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:26:46.216+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-4] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:26:46.216690+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:26:46.216+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-4] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:26:46.217+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-4] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:26:46.216690+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 226 ms
[INFO] [stdout] 2026-02-06T15:26:47.700+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:47.701+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:47.701+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-7] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:47.918+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:26:47.925+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:26:47.925+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-4] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:26:47.925552900+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:26:47.926+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-4] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:26:47.926+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-4] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:26:47.926209500+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 224 ms
[INFO] [stdout] 2026-02-06T15:26:49.359+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.retry.configure.RetryAspect      : Created or retrieved retry 'externalService' with max attempts rate '2'  for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:49.359+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.c.c.CircuitBreakerAspect         : Created or retrieved circuit breaker 'externalService' with failure rate '50.0' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:49.359+05:30 DEBUG 27072 --- [circuit-breaker-demo] [nio-8080-exec-9] i.g.r.s.t.configure.TimeLimiterAspect    : Created or retrieved time limiter 'externalService' with timeout duration 'PT3S' and cancelRunningFuture 'true' for method: 'com.demo.circuitbreaker.service.ProductService#getProductById'
[INFO] [stdout] 2026-02-06T15:26:49.573+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
[INFO] [stdout] 2026-02-06T15:26:49.581+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection
[INFO] [stdout] 2026-02-06T15:26:49.581+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-4] i.g.r.t.internal.TimeLimiterImpl         : Event SUCCESS published: 2026-02-06T15:26:49.581197200+05:30[Asia/Calcutta]: TimeLimiter 'externalService' recorded a successful call.
[INFO] [stdout] 2026-02-06T15:26:49.581+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-4] i.g.r.c.i.CircuitBreakerStateMachine     : CircuitBreaker 'externalService' succeeded:
[INFO] [stdout] 2026-02-06T15:26:49.581+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-4] i.g.r.c.i.CircuitBreakerStateMachine     : Event SUCCESS published: 2026-02-06T15:26:49.581768800+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' recorded a successful call. Elapsed time: 221 ms
[INFO] [stdout] 2026-02-06T15:26:49.581+05:30 DEBUG 27072 --- [circuit-breaker-demo] [onPool-worker-4] i.g.r.c.i.CircuitBreakerStateMachine     : Event STATE_TRANSITION published: 2026-02-06T15:26:49.581768800+05:30[Asia/Calcutta]: CircuitBreaker 'externalService' changed state from HALF_OPEN to CLOSED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  14:24 min (Wall Clock)
[INFO] Finished at: 2026-02-06T15:27:44+05:30
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.3.8:run (default-cli) on project circuit-breaker-demo: Process terminated with exit code: -1 -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException
